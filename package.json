{
  "dependencies": {
    "@rollup/plugin-node-resolve": "^15.3.0",
    "@types/lodash": "^4.14.202",
    "@types/yamljs": "^0.2.34",
    "dayjs": "^1.11.10",
    "rollup-plugin-progress": "^1.1.2",
    "screeps-api": "^1.16.1",
    "screeps-profiler": "^2.0.1",
    "yamljs": "^0.3.0"
  },
  "devDependencies": {
    "@rollup/plugin-typescript": "^11.1.6",
    "@types/node": "^20.11.17",
    "@types/screeps": "^3.3.7",
    "javascript-obfuscator": "^4.1.1",
    "tslib": "^2.6.2"
  },
  "name": "dokUtil",
  "description": "dokUtil powers my screeps.com account dokman.",
  "scripts": {
    "setup": "git submodule update --init --recursive",

    "buildmark": "node scripts/BuildStamp.js",
    "copy-vendor": "cp ./vendor/traveler/Traveler.js ./dist/traveler.js && cp ./vendor/profiler/screeps-profiler.js ./dist/profiler.js && cp ./vendor/visuals/RoomVisual.js ./dist/visualizer.js",
    "patch-vendor": "node scripts/TravelerPatching.js",
    "mask-main": "mkdir -p ./dist/obf && npx javascript-obfuscator dist/main.js --output ./dist/obf/main.js",

    "build-main": "rollup -c ./rollup.config.js",
    "build": "npm run build-main && npm run copy-vendor && npm run patch-vendor && npm run mask-main && npm run buildmark",
    "build-tools": "rollup -c ./rollup-tools.config.js",

    "upload": "npx screeps-api upload --server ${SERVER:-main} ./dist/main.js ./dist/profiler.js ./dist/traveler.js ./dist/visualizer.js",
    "upload-masked": "npx screeps-api upload --server ${SERVER:-main} ./dist/obf/main.js ./dist/profiler.js ./dist/traveler.js ./dist/visualizer.js",
    
    "build-upload": "npm run build && npm run upload",
    "build-upload-toall": "npm run build && node ./scripts/UploadToAll.js"
  },
  "version": "3.0.0"
}
